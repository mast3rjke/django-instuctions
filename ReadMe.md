# Инструкция по созданию приложений на Django

---

1. Установка django

Выполнить команду в терминале проекта:

```bash
pip install django
```

2. Создать менеджер приложений

Выполнить команду в терминале проекта:
```bash
django-admin startproject <название_проекта> .
```

> Точка в конце обязательна!

***Менеджер приложений*** - это координатор взаимодействия 
между приложениями

3. Создать приложение

Выполнить команду в терминале проекта:
```bash
python manage.py startapp <название_приложения>
```

***Приложение*** - это набор функционала для решения конкретной задачи

4. Добавить приложение в установленные:

Открыть файл ```<название_проекта>/settings.py``` в список
```INSTALLED_APPS``` первым элементом добавляем строку 
```<название_приложения>.apps.<НазваниеПриложения>Config```

5. Добавить маршруты приложения

Создать в корне приложения файл ```urls.py``` с содержимым:
```python
from django.urls import path

urlpatterns = [
    
]

```

Затем в папке менеджера приложений в файле ```urls.py``` 
зарегистрировать маршруты приложения - в ```urlpatterns```
добавить строку 
```python
path('', include('<название_приложения>.urls')),
``` 
и импорт ```include``` из ```django.urls```


6. Добавить статику и шаблоны

**Статика** - неизменяемая часть страницы (js, css, картинки)
**Шаблон** - html код страницы с возможностями шаблонизатора

В папке приложения создаем 2 новых папки ```templates``` и ```static```. 
В каждую из них добавляем папку с названием ```<название_приложения>```

В статику добавить ```main.css``` и ```main.js```.
В шаблоны добавить ```main.html```. 
Он должен начинаться с ```{% load static %}```. 
В шаблоне добавить базовую верстку (! + tab)

7. Добавить представление

**Представление** - функция, которая получает и обрабатывает данные,
прокидывает в шаблон и отрисовывает его.

В папке приложения в файле ```views.py``` добавить представление:

```python
def <название_представления>(request):
    return render(request, "<название_приложения>/<шаблон>"[контекст])
```

8. Добавить маршрут

В папке приложения в файле ```urls.py``` добавить маршрут для страницы:
```python
from django.urls import path
from . import views

urlpatterns = [
    path(
        "[префикс_страниц]", 
        views.<название_функции_представления>, 
        name="<название-маршрута>"
    )
]
```

9. Запустить приложение

В терминале выполнить команду:
```bash
python manage.py runserver
```

# Шаблонизация

**Шаблонизатор** - компилятор шаблона в html код с поддрежкой 
директив и контекста.

**Директива** - команда шаблонизатора для внесения дополнительного функционала.
Пишется в ```{% <директива> %}```.

**Контекст** - дополнительные данные шаблона, 
переданные из вне (передается в пердтавлении).
Пишется в ```{{ <переменная_контекста> }}``` - переменная контекста должна называться так же как и в представлении.

### Директивы

* ```{% load static %}``` - для загрузки статики. 
Начинаются все шаблоны, которые используют статику.

 * ```{% static '<название_приложение>/<файл_статики(js, css, img)>' %}``` - 
ссылка на файл статики. 
Используется когда нужна ссылка на сам файл, например в 
```<link>```, ```<script>```.

* ```{% url '<название-маршрута>' %}``` - ссылка на маршрут. Используется
в ```<a>``` - для ссылки на конкретную страницу.

* ```html
    {% if <переменная_контекста> %}
        // Отобразится если <переменная_контекста> = True
    [{% elif <переменная_контекста_1> %}]
        // Отобразится если <переменная_контекста_1> = True
    [{% else %}]
        // Отобразится если все False
    {% endif %} 
    ``` 
 Используется для отрисовки элемента по условию.

* ```html
    {% for <переменная> in <переменная_контекста> %}
        // выполнится len(<переменная_контекста>) раз
    {% endfor %}
    ```
Используется когда нужно отобразить одну и ту же верстку несколько раз

